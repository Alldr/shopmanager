webpackJsonp([8],{IQ1o:function(e,t){},jIjH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("Xxa5"),n=a.n(o),s=a("exGp"),r=a.n(s),l={data:function(){return{loading:!1,query:"",goodsData:[],pagenum:1,pagesize:20,total:-1,form:{goods_name:"",goods_cat:"",goods_price:"",goods_number:"",goods_weight:"",goods_introduce:"",pics:"",attrs:""},formLabelWidth:"100px",dialogFormVisibleAdd:!1}},created:function(){this.getGoodsData()},methods:{delGoods:function(e){var t=this;return r()(n.a.mark(function a(){var o,s,r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$http.delete("goods/"+e.goods_id);case 2:o=a.sent,s=o.data.meta,r=s.msg,200===s.status&&(t.$message.success(r),t.pagenum=1,t.getGoodsData());case 5:case"end":return a.stop()}},a,t)}))()},getAllGoods:function(){this.getGoodsData()},searchGoods:function(){this.pagenum=1,this.getGoodsData()},getGoodsData:function(){var e=this;return r()(n.a.mark(function t(){var a,o,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$http.get("goods?query="+e.query+"&pagenum="+e.pagenum+"&pagesize="+e.pagesize);case 3:a=t.sent,o=a.data,s=o.data,200===o.meta.status&&(e.loading=!1,e.goodsData=s.goods,e.total=s.total);case 6:case"end":return t.stop()}},t,e)}))()},handleSizeChange:function(e){this.pagenum=1,this.pagesize=e,this.getGoodsData()},handleCurrentChange:function(e){this.pagenum=e,this.getGoodsData()}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"card"},[a("my-bread",{attrs:{level1:"商品管理",level2:"商品列表"}}),e._v(" "),a("el-row",[a("el-col",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入用户名",clearable:""},on:{clear:function(t){e.getAllGoods()}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){e.searchGoods()}},slot:"append"})],1),e._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.$router.push({name:"goodsAdd"})}}},[e._v("添加商品")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.goodsData,border:"",height:"500"}},[a("el-table-column",{attrs:{type:"index",label:"#",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_price",label:"商品价格(元)",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_weight",label:"商品重量",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fmtDate")(t.row.add_time)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:"",icon:"el-icon-edit",circle:""}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",plain:"",icon:"el-icon-delete",circle:""},on:{click:function(a){e.delGoods(t.row)}}})]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.pagenum,"page-sizes":[20,40,60,80],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var d=a("VU/8")(l,i,!1,function(e){a("IQ1o")},"data-v-5d84d862",null);t.default=d.exports}});
//# sourceMappingURL=8.a773b162e07773fac25c.js.map